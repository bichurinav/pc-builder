"use strict";!function r(c,i,u){function d(e,n){if(!i[e]){if(!c[e]){var t="function"==typeof require&&require;if(!n&&t)return t(e,!0);if(f)return f(e,!0);var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}var a=i[e]={exports:{}};c[e][0].call(a.exports,function(n){return d(c[e][1][n]||n)},a,a.exports,r,c,i,u)}return i[e].exports}for(var f="function"==typeof require&&require,n=0;n<u.length;n++)d(u[n]);return d}({1:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.addComponent=function(n,e,t){var o=new FormData(e);o.append("action",n),fetch(t,{method:"POST",body:o}).then(function(n){return n.text()}).then(function(n){document.querySelectorAll(".field input").forEach(function(n){n.value=""}),console.log(n),n&&setTimeout(function(){document.location.href="/?component=".concat(n)},0)})}},{}],2:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.loadComponent=function(n,e){var t=new FormData;t.append("action",n),t.append("component",function(n){var e=window.location.search;return!!(e=e.match(new RegExp(n+"=([^&=]+)")))&&e[1]}("component")),fetch(e,{method:"POST",body:t}).then(function(n){return n.json()}).then(function(n){var r=document.querySelector(".catalog-content");r.innerHTML="",n?n.items.forEach(function(n,e,t){var o=[];for(var a in n)"name"!==a&&"id"!==a&&"image"!==a&&o.push("<span><b>".concat(a.replaceAll("_"," "),"</b>: ").concat(n[a],"</span><br>"));r.innerHTML+='\n            <div class="catalog-content__item">\n                <h2>'.concat(n.name,"</h2>\n                <br>\n                <div>\n                    ").concat(o.join(""),'\n                </div>\n                <div>\n                    <img width="300" src="').concat(n.image,'">\n                </div>\n            </div>\n            ')}):r.innerHTML="<b>Пусто :(</b>"})}},{}],3:[function(n,e,t){var o=n("./ajax/addComponent"),a=n("./ajax/loadComponent");document.querySelector(".form-add-component__form").addEventListener("submit",function(n){n.preventDefault(),(0,o.addComponent)("add",n.target,"modules/Component.php")}),(0,a.loadComponent)("load","modules/Component.php"),document.getElementById("addComponentSelect").addEventListener("change",function(n){document.location.href="/?component=".concat(n.target.value)}),document.querySelector(".upload-file__input").addEventListener("change",function(n){var e=document.querySelector(".upload-file__text"),t=n.target.files[0];5242880<t.size?text.textContent="Изображение не более 5 МБ.":e.textContent=t.name})},{"./ajax/addComponent":1,"./ajax/loadComponent":2}]},{},[3]);
//# sourceMappingURL=maps/main.js.map
