"use strict";!function a(i,c,d){function u(e,n){if(!c[e]){if(!i[e]){var t="function"==typeof require&&require;if(!n&&t)return t(e,!0);if(l)return l(e,!0);var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}var r=c[e]={exports:{}};i[e][0].call(r.exports,function(n){return u(i[e][1][n]||n)},r,r.exports,a,i,c,d)}return c[e].exports}for(var l="function"==typeof require&&require,n=0;n<d.length;n++)u(d[n]);return u}({1:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.addComponent=function(n,e,t){var o=new FormData(e);o.append("action",n),fetch(t,{method:"POST",body:o}).then(function(n){return n.text()}).then(function(n){n&&setTimeout(function(){document.location.href="/?component=".concat(n)},0)})}},{}],2:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.loadComponent=function(n,e){var t=new FormData;t.append("action",n),t.append("component",function(n){var e=window.location.search;return!!(e=e.match(new RegExp(n+"=([^&=]+)")))&&e[1]}("component")),fetch(e,{method:"POST",body:t}).then(function(n){return n.json()}).then(function(n){var a=document.querySelector(".catalog-content");a.innerHTML="",n?n.items.forEach(function(n,e,t){var o=[];for(var r in n)"name"!==r&&"id"!==r&&"image"!==r&&o.push("<span><b>".concat(r.replaceAll("_"," "),"</b>: ").concat(n[r],"</span><br>"));a.innerHTML+='\n            <div class="catalog-content__item">\n                <h2>'.concat(n.name,"</h2>\n                <br>\n                <div>\n                    ").concat(o.join(""),'\n                </div>\n                <div>\n                    <img width="300" src="').concat(n.image,'">\n                </div>\n            </div>\n            ')}):a.innerHTML="<b>Пусто :(</b>"})}},{}],3:[function(n,e,t){var o=n("./ajax/addComponent"),r=n("./ajax/loadComponent");document.querySelector(".form-add-component__form").addEventListener("submit",function(t){t.preventDefault(),document.querySelectorAll(".form-add-component__form input").forEach(function(n){function e(n){return"file"===n.getAttribute("type")}""==n.value?(n.nextElementSibling.classList.contains("field__error")&&n.nextElementSibling.classList.add("error"),e(n)&&n.nextElementSibling.children[1].classList.add("error")):(n.nextElementSibling.classList.remove("error"),e(n)&&(n.nextElementSibling.children[1].classList.remove("error"),(0,o.addComponent)("add",t.target,"modules/Component.php")))})}),(0,r.loadComponent)("load","modules/Component.php"),document.getElementById("addComponentSelect").addEventListener("change",function(n){document.location.href="/?component=".concat(n.target.value)}),document.querySelector(".upload-file__input").addEventListener("change",function(n){var e=document.querySelector(".upload-file__text"),t=n.target.files[0];5242880<t.size?text.textContent="Изображение не более 5 МБ.":e.textContent=t.name})},{"./ajax/addComponent":1,"./ajax/loadComponent":2}]},{},[3]);
//# sourceMappingURL=maps/main.js.map
